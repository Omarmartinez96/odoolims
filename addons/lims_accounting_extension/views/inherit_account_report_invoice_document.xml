<odoo>
  <template id="inherit_account_report_invoice_document"
            inherit_id="account.report_invoice_document"
            priority="20">
    <!-- 1) Redirigimos el t-call al wrapper -->
    <xpath expr="//t[@t-call='web.external_layout']" position="attributes">
      <attribute name="t-call">lims_accounting_extension.external_layout_invoice_lims</attribute>
    </xpath>

    <!-- 2) Inyectamos TODO tu QWeb dentro del slot de contenido -->
    <xpath expr="//t[@t-call='lims_accounting_extension.external_layout_invoice_lims']"
           position="inside">
      <!-- Contexto -->
      <t t-set="company" t-value="docs and docs[0].company_id"/>
      <!-- Bucle de facturas -->
      <t t-foreach="docs" t-as="doc">
        <div class="page">
          <!-- Aquí tu HTML de encabezado interno, líneas, totales... -->
          <!-- Ejemplo mínimo: -->
          <div class="row mb-2">
            <div class="col-6"><strong>No. Factura:</strong> <span t-esc="doc.name"/></div>
            <div class="col-6 text-end"><strong>Fecha:</strong> <span t-esc="doc.invoice_date or doc.date"/></div>
          </div>
          <!-- … resto del bucle … -->
        </div>
      </t>
    </xpath>
  </template>
</odoo>
