<!-- file: views/inherit_account_report_invoice_document.xml -->
<odoo>
  <template id="inherit_account_report_invoice_document"
            inherit_id="account.report_invoice_document"
            priority="30">
    <!-- 1) Apunta al t-call original -->
    <xpath expr="//template[@id='account.report_invoice_document']/t[@t-call and contains(@t-call, 'external_layout')]"
           position="replace">
      <!-- 2) Sustitúyelo por tu layout -->
      <t t-call="lims_accounting_extension.external_layout_invoice_lims">
        <!-- 3) La compañía para el header -->
        <t t-set="company" t-value="docs and docs[0].company_id"/>

        <!-- 4) Inyecta TODO el cuerpo aquí -->
        <t t-slot="content">
          <t t-foreach="docs" t-as="doc">
            <div class="page">
              <!-- aquí va tu HTML de título, tablas de líneas y totales -->
            </div>
          </t>
        </t>
      </t>
    </xpath>
  </template>
</odoo>
