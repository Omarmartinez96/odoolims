<odoo>
  <!-- Heredamos la factura completa -->
  <template id="report_invoice_design_inherit"
            inherit_id="account.report_invoice_document">

    <!-- 1) Cabecera: centrar logo y nombre de la empresa -->
    <xpath expr="//div[@class='row mt32 mb16']/div[1]" position="replace">
      <div class="row mt32 mb16">
        <div class="col-6 text-center">
          <img t-if="company.logo"
               t-att-src="'data:image/png;base64,%s' % company.logo"
               style="max-height:80px;"/>
        </div>
        <div class="col-6 text-right">
          <h3 t-esc="company.name"/>
          <p t-if="company.vat">RFC: <t t-esc="company.vat"/></p>
        </div>
      </div>
    </xpath>

    <!-- 2) Información del cliente: tarjeta más destacada -->
    <xpath expr="//div[@class='row mb32']/div[contains(@class,'col-6') and position()=2]" position="replace">
      <div class="row mb32">
        <div class="col-6">
          <strong>Facturar a:</strong>
          <p t-esc="doc.partner_id.name"/>
          <p t-esc="doc.partner_id.street or ''"/>
          <p>
            <t t-esc="doc.partner_id.city"/>  
            <t t-if="doc.partner_id.zip">C.P. <t t-esc="doc.partner_id.zip"/></t>,
            <t t-esc="doc.partner_id.country_id.name"/>
          </p>
        </div>
      </div>
    </xpath>

    <!-- 3) Tabla de líneas: bordes y alineación derecha en cifras -->
    <xpath expr="//table[contains(@class,'table')]" position="attributes">
      <attribute name="class">table table-sm table-bordered</attribute>
      <attribute name="style">font-size:10px; border-collapse:collapse;</attribute>
    </xpath>
    <xpath expr="//table[contains(@class,'table')]//td[not(position()=1)]" position="attributes">
      <attribute name="style">text-align:right; padding:4px;</attribute>
    </xpath>
    <xpath expr="//table[contains(@class,'table')]//th" position="attributes">
      <attribute name="style">background-color:#f5f5f5; text-align:left; padding:6px;</attribute>
    </xpath>

    <!-- 4) Totales: caja sombreada y texto en negrita -->
    <xpath expr="//tfoot/tr[last()]" position="attributes">
      <attribute name="style">font-weight:bold; background-color:#fafafa;</attribute>
    </xpath>
    <xpath expr="//tfoot" position="attributes">
      <attribute name="style">border-top:2px solid #333;</attribute>
    </xpath>

    <!-- 5) Pie de página: estilo minimalista y sin bordes fuertes -->
    <xpath expr="//div[contains(@class,'o_footer_content')]" position="attributes">
      <attribute name="style">font-size:7px; color:#666; padding-top:8px;</attribute>
    </xpath>

  </template>
</odoo>
