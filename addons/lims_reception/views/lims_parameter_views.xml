<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        
        <!-- ========== PLANTILLAS DE PAR츼METROS (CONFIGURACI칍N) ========== -->
        
        <!-- Vista Lista de Plantillas -->
        <record id="view_lims_parameter_template_list" model="ir.ui.view">
            <field name="name">lims.parameter.template.list</field>
            <field name="model">lims.parameter.template</field>
            <field name="arch" type="xml">
                <list string="Plantillas de Par치metros" create="true" edit="false">
                    <field name="name"/>
                    <field name="category"/>
                    <field name="method"/>
                    <field name="unit"/>
                    <field name="microorganism"/>
                    <field name="active"/>
                </list>
            </field>
        </record>

        <!-- Vista Formulario de Plantillas -->
        <record id="view_lims_parameter_template_form" model="ir.ui.view">
            <field name="name">lims.parameter.template.form</field>
            <field name="model">lims.parameter.template</field>
            <field name="arch" type="xml">
                <form string="Plantilla de Par치metro">
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="name" placeholder="Ej: Coliformes totales" required="1"/>
                            </h1>
                        </div>

                        <!-- Informaci칩n b치sica -->
                        <group>
                            <group string="游늶 Informaci칩n General">
                                <field name="category"/>
                                <field name="microorganism" placeholder="Ej: Coliformes totales, E. coli"/>
                                <field name="active"/>
                            </group>
                            <group string="游댧 M칠todo y Unidades">
                                <field name="method" placeholder="Ej: NOM-113, ASTM D1293"/>
                                <field name="unit" placeholder="Ej: UFC/g, mg/L, 췃g/g"/>
                            </group>
                        </group>

                        <!-- Descripci칩n -->
                        <group string="游닇 Descripci칩n">
                            <field name="description" nolabel="1" 
                                  placeholder="Descripci칩n detallada del procedimiento..."/>
                        </group>

                    </sheet>
                </form>
            </field>
        </record>

        <!-- Acci칩n para Plantillas -->
        <record id="action_lims_parameter_templates" model="ir.actions.act_window">
            <field name="name">Plantillas de Par치metros</field>
            <field name="res_model">lims.parameter.template</field>
            <field name="view_mode">list,form</field>
            <field name="view_id" ref="view_lims_parameter_template_list"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Crear la primera plantilla de par치metro
                </p>
                <p>
                    Defina los par치metros que se analizan frecuentemente
                </p>
            </field>
        </record>

        <!-- ========== PAR츼METROS DE MUESTRA ========== -->
        
        <!-- Vista Lista de Par치metros de Muestra -->
        <record id="view_lims_sample_parameter_list" model="ir.ui.view">
            <field name="name">lims.sample.parameter.list</field>
            <field name="model">lims.sample.parameter</field>
            <field name="arch" type="xml">
                <list string="Par치metros de An치lisis">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field name="category"/>
                    <field name="method"/>
                    <field name="unit"/>
                    <field name="microorganism"/>
                    <field name="state" widget="badge"/>
                    <field name="result"/>
                </list>
            </field>
        </record>

        <!-- Vista Formulario de Par치metros de Muestra -->
        <record id="view_lims_sample_parameter_form" model="ir.ui.view">
            <field name="name">lims.sample.parameter.form</field>
            <field name="model">lims.sample.parameter</field>
            <field name="arch" type="xml">
                <form string="Par치metro de An치lisis">
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="name" placeholder="Nombre del par치metro" required="1"/>
                            </h1>
                        </div>

                        <!-- Plantilla -->
                        <group string="游댢 Desde Plantilla">
                            <field name="template_id" 
                                   placeholder="Seleccionar plantilla para autocompletar..."
                                   options="{'no_create': True, 'no_open': True}"/>
                        </group>

                        <!-- Informaci칩n b치sica -->
                        <group>
                            <group string="游늶 Informaci칩n General">
                                <field name="category"/>
                                <field name="microorganism"/>
                                <field name="sequence"/>
                                <field name="state"/>
                            </group>
                            <group string="游댧 M칠todo y Unidades">
                                <field name="method"/>
                                <field name="unit"/>
                                <field name="result"/>
                            </group>
                        </group>

                        <!-- Descripci칩n -->
                        <group string="游닇 Descripci칩n">
                            <field name="description" nolabel="1"/>
                        </group>

                        <!-- Condiciones de an치lisis -->
                        <notebook>
                            <page string="游빍 Condiciones">
                                <group>
                                    <group>
                                        <field name="incubation_temperature"/>
                                        <field name="incubation_time"/>
                                        <field name="culture_medium"/>
                                    </group>
                                    <group>
                                        <field name="ph_conditions"/>
                                        <field name="method_reference"/>
                                        <field name="detection_limit"/>
                                        <field name="quantification_limit"/>
                                    </group>
                                </group>
                                
                                <group>
                                    <field name="sample_preparation" nolabel="1"/>
                                    <field name="preservation_conditions" nolabel="1"/>
                                </group>
                            </page>

                            <page string="游닇 Observaciones">
                                <group>
                                    <field name="analyst_notes" nolabel="1"/>
                                    <field name="observations" nolabel="1"/>
                                </group>
                            </page>
                        </notebook>

                    </sheet>
                </form>
            </field>
        </record>

        <!-- Men칰 para Plantillas de Par치metros -->
        <menuitem id="menu_lims_parameter_templates" 
                  name="Plantillas de Par치metros" 
                  parent="lims_custody_menu_root" 
                  action="action_lims_parameter_templates" 
                  sequence="25"/>

    </data>
</odoo>