<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        
        <!-- ========== WIZARD DE FIRMA ========== -->
        <record id="view_signature_wizard_v2_form" model="ir.ui.view">
            <field name="name">lims.sample.signature.wizard.v2.form</field>
            <field name="model">lims.sample.signature.wizard.v2</field>
            <field name="arch" type="xml">
                <form string="Firmar Muestra v2">
                    <sheet>
                        <div class="oe_title">
                            <h1>üñäÔ∏è Firmar Muestra</h1>
                            <h2>
                                C√≥digo: <field name="sample_code" readonly="1"/>
                            </h2>
                            <h3 class="text-success">
                                ‚úÖ <field name="parameters_count" readonly="1"/> par√°metros listos para marcar
                            </h3>
                        </div>
                        
                        <div class="alert alert-info" style="margin: 20px 0;">
                            <strong>‚ÑπÔ∏è Al firmar esta muestra:</strong><br/>
                            <ul style="margin: 10px 0;">
                                <li>Los par√°metros completados quedar√°n listos para reporte</li>
                                <li>Se registrar√° la fecha y hora de firma</li>
                                <li>La muestra estar√° disponible para generar informes</li>
                                <li>Esta acci√≥n no se puede deshacer f√°cilmente</li>
                            </ul>
                        </div>
                        
                        <group string="üë§ Informaci√≥n del Firmante">
                            <field name="signature_name" placeholder="Nombre completo del firmante"/>
                            <field name="signature_position" placeholder="Cargo o posici√≥n en el laboratorio"/>
                        </group>
                        
                        <group string="‚úçÔ∏è Firma Digital">
                            <field name="digital_signature" widget="signature" 
                                   placeholder="Firmar aqu√≠ para aprobar la muestra"/>
                        </group>
                        
                    </sheet>
                    
                    <footer>
                        <button string="‚úÖ Confirmar Firma" 
                                name="action_confirm_signature" 
                                type="object" 
                                class="btn-primary"
                                confirm="¬øEst√° seguro de firmar esta muestra? Esta acci√≥n marcar√° los par√°metros como listos para reporte."/>
                        <button string="‚ùå Cancelar" 
                                class="btn-secondary" 
                                special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        
        <!-- ========== WIZARD DE REVISI√ìN ========== -->
        <record id="view_revision_request_wizard_v2_form" model="ir.ui.view">
            <field name="name">lims.revision.request.wizard.v2.form</field>
            <field name="model">lims.revision.request.wizard.v2</field>
            <field name="arch" type="xml">
                <form string="Solicitar Revisi√≥n v2">
                    <sheet>
                        <div class="oe_title">
                            <h1>üîÑ Solicitar Revisi√≥n de Informe</h1>
                            <h2>
                                Muestra: <field name="sample_code" readonly="1"/>
                            </h2>
                            <h3>
                                Revisi√≥n actual: <field name="current_revision" readonly="1"/>
                            </h3>
                        </div>
                        
                        <div class="alert alert-warning" style="margin: 20px 0;">
                            <strong>‚ö†Ô∏è Importante:</strong><br/>
                            Al solicitar esta revisi√≥n:
                            <ul style="margin: 10px 0;">
                                <li>Se cancelar√° la firma actual del informe</li>
                                <li>Los par√°metros volver√°n a estado "borrador"</li>
                                <li>Se crear√° una nueva revisi√≥n editable</li>
                                <li>Se generar√° un n√∫mero de revisi√≥n consecutivo</li>
                                <li>Esta acci√≥n quedar√° registrada en el historial</li>
                            </ul>
                        </div>
                        
                        <group string="üìù Informaci√≥n de la Solicitud">
                            <field name="requested_by" placeholder="Nombre del cliente o solicitante"/>
                        </group>
                        
                        <group string="üìã Motivo de la Revisi√≥n">
                            <field name="reason" nolabel="1" 
                                   placeholder="Describa detalladamente por qu√© se solicita la revisi√≥n del informe. Incluya qu√© aspectos espec√≠ficos necesitan modificaci√≥n..."/>
                        </group>
                        
                    </sheet>
                    
                    <footer>
                        <button string="‚úÖ Crear Revisi√≥n" 
                                name="action_create_revision" 
                                type="object" 
                                class="btn-primary"
                                confirm="¬øEst√° seguro de crear una revisi√≥n? Esto cancelar√° la firma actual y crear√° una nueva versi√≥n editable."/>
                        <button string="‚ùå Cancelar" 
                                class="btn-secondary" 
                                special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        
        <!-- ========== WIZARD DE SELECCI√ìN DE REPORTES ========== -->
        <record id="view_report_selection_wizard_v2_form" model="ir.ui.view">
            <field name="name">lims.report.selection.wizard.v2.form</field>
            <field name="model">lims.report.selection.wizard.v2</field>
            <field name="arch" type="xml">
                <form string="Seleccionar Tipo de Reporte">
                    <sheet>
                        <div class="oe_title">
                            <h1>üìä Generar Reporte Personalizado</h1>
                            <h3 class="text-success">
                                <field name="analysis_count" readonly="1"/> an√°lisis seleccionados
                            </h3>
                        </div>
                        
                        <div class="alert alert-info" style="margin: 20px 0;">
                            <strong>‚ÑπÔ∏è Selecciona el tipo de reporte:</strong><br/>
                            Elige la categor√≠a, idioma y tipo que necesitas generar para los an√°lisis seleccionados.
                        </div>
                        
                        <group string="üéØ Configuraci√≥n del Reporte">
                            <field name="report_category" widget="radio" required="1"/>
                        </group>
                        
                        <group string="üåê Opciones de Formato" col="2">
                            <field name="report_language" widget="radio" required="1"/>
                            <field name="report_status" widget="radio" required="1"/>
                        </group>
                        
                        <!-- Informaci√≥n de los an√°lisis seleccionados -->
                        <group string="üìã An√°lisis Seleccionados" invisible="analysis_count == 0">
                            <field name="analysis_ids" nolabel="1" readonly="1">
                                <list string="An√°lisis">
                                    <field name="sample_code"/>
                                    <field name="customer_id"/>
                                    <field name="ready_parameters_count"/>
                                    <field name="total_parameters_count"/>
                                    <field name="signature_state"/>
                                </list>
                            </field>
                        </group>
                        
                    </sheet>
                    
                    <footer>
                        <button string="üìÑ Generar Reporte" 
                                name="action_generate_report" 
                                type="object" 
                                class="btn-primary"/>
                        <button string="‚ùå Cancelar" 
                                class="btn-secondary" 
                                special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>


    </data>
</odoo>