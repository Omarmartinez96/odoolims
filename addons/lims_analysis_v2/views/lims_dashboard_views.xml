<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        
        <!-- Vista Dashboard simplificada usando vista de lista personalizada -->
        <record id="view_lims_dashboard" model="ir.ui.view">
            <field name="name">lims.analysis.dashboard</field>
            <field name="model">lims.analysis.v2</field>
            <field name="arch" type="xml">
                <form string="Dashboard LIMS" create="false" edit="false" delete="false">
                    <sheet>
                        <div class="oe_title">
                            <h1>üìä Dashboard de An√°lisis LIMS</h1>
                        </div>
                        
                        <!-- M√âTRICAS PRINCIPALES -->
                        <div class="row mt-4">
                            
                            <!-- Total de Muestras -->
                            <div class="col-lg-4 col-md-6 mb-4">
                                <div class="card text-center">
                                    <div class="card-body bg-primary text-white">
                                        <h1 class="card-title">
                                            <field name="total_samples_count" readonly="1"/>
                                        </h1>
                                        <p class="card-text">üìä Total de Muestras</p>
                                        <button name="action_view_all_samples" type="object" string="Ver Todas" class="btn btn-light btn-sm"/>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Muestras con Todos los Par√°metros Listos -->
                            <div class="col-lg-4 col-md-6 mb-4">
                                <div class="card text-center">
                                    <div class="card-body bg-success text-white">
                                        <h1 class="card-title">
                                            <field name="samples_all_ready_count" readonly="1"/>
                                        </h1>
                                        <p class="card-text">‚úÖ Todos los Par√°metros Listos</p>
                                        <button name="action_view_samples_all_ready" type="object" string="Ver Listas" class="btn btn-light btn-sm"/>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Muestras en Proceso -->
                            <div class="col-lg-4 col-md-6 mb-4">
                                <div class="card text-center">
                                    <div class="card-body bg-warning">
                                        <h1 class="card-title">
                                            <field name="samples_in_process_count" readonly="1"/>
                                        </h1>
                                        <p class="card-text">‚è≥ Par√°metros en Proceso</p>
                                        <button name="action_view_samples_in_process" type="object" string="Ver En Proceso" class="btn btn-dark btn-sm"/>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Muestras Completadas -->
                            <div class="col-lg-4 col-md-6 mb-4">
                                <div class="card text-center">
                                    <div class="card-body bg-info text-white">
                                        <h1 class="card-title">
                                            <field name="samples_completed_count" readonly="1"/>
                                        </h1>
                                        <p class="card-text">üéØ Par√°metros Terminados</p>
                                        <button name="action_view_samples_completed" type="object" string="Ver Completadas" class="btn btn-light btn-sm"/>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Muestras Reportadas -->
                            <div class="col-lg-4 col-md-6 mb-4">
                                <div class="card text-center">
                                    <div class="card-body bg-secondary text-white">
                                        <h1 class="card-title">
                                            <field name="samples_reported_count" readonly="1"/>
                                        </h1>
                                        <p class="card-text">üìß Reportadas al Cliente</p>
                                        <button name="action_view_samples_reported" type="object" string="Ver Reportadas" class="btn btn-light btn-sm"/>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Muestras Firmadas -->
                            <div class="col-lg-4 col-md-6 mb-4">
                                <div class="card text-center">
                                    <div class="card-body bg-dark text-white">
                                        <h1 class="card-title">
                                            <field name="samples_signed_count" readonly="1"/>
                                        </h1>
                                        <p class="card-text">‚úçÔ∏è Muestras Firmadas</p>
                                        <button name="action_view_samples_signed" type="object" string="Ver Firmadas" class="btn btn-light btn-sm"/>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        
                        <!-- ESTAD√çSTICAS ADICIONALES -->
                        <div class="row mt-3">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header bg-light">
                                        <h5>üìà Estad√≠sticas R√°pidas</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row text-center">
                                            <div class="col-md-3">
                                                <strong>Esta Semana:</strong><br/>
                                                <span class="badge badge-primary" style="font-size: 1.5em; padding: 10px;">
                                                    <field name="samples_this_week_count" readonly="1"/>
                                                </span>
                                            </div>
                                            <div class="col-md-3">
                                                <strong>Recibidas Hoy:</strong><br/>
                                                <span class="badge badge-success" style="font-size: 1.5em; padding: 10px;">
                                                    <field name="samples_today_count" readonly="1"/>
                                                </span>
                                            </div>
                                            <div class="col-md-3">
                                                <strong>Sin Procesar:</strong><br/>
                                                <span class="badge badge-danger" style="font-size: 1.5em; padding: 10px;">
                                                    <field name="samples_pending_count" readonly="1"/>
                                                </span>
                                            </div>
                                            <div class="col-md-3">
                                                <strong>Con Revisiones:</strong><br/>
                                                <span class="badge badge-warning" style="font-size: 1.5em; padding: 10px;">
                                                    <field name="samples_with_revisions_count" readonly="1"/>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </sheet>
                </form>
            </field>
        </record>
        
        <!-- ACCI√ìN PRINCIPAL DEL DASHBOARD -->
        <record id="action_lims_dashboard" model="ir.actions.act_window">
            <field name="name">Dashboard LIMS</field>
            <field name="res_model">lims.analysis.v2</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_lims_dashboard"/>
            <field name="target">current</field>
        </record>
        
        <!-- MEN√ö DEL DASHBOARD -->
        <menuitem id="menu_lims_dashboard" 
                  name="üìä Dashboard" 
                  parent="menu_lims_analysis_v2_root" 
                  action="action_lims_dashboard" 
                  sequence="1"/>
        
    </data>
</odoo>